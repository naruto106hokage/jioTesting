<!DOCTYPE html>
<html>
<head>
    <title>Auto Open Link</title>
    <script type="text/javascript">
        // Function to extract roomId from the URL
        function getRoomID() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('roomId');
        }

        window.onload = function() {
            const roomId = getRoomID();
            if (roomId) {
                // Try to open the app with the deep link containing the room ID
                setTimeout(function() {
                    window.location.href = `yourapp://room?roomId=${roomId}`;
                }, 100); // 100ms delay

                // Show manual link if automatic redirect fails
                setTimeout(function() {
                    document.getElementById("manualLink").style.display = "block";
                }, 1000); // Show manual link after 1 second
            }
        }
    </script>
</head>
<body>
    <p>If the link doesn't open automatically, <a id="manualLink" href="#" style="display:none;">click here</a>.</p>

    <script type="text/javascript">
        // Update manual link to include the room ID dynamically
        const roomId = getRoomID();
        if (roomId) {
            document.getElementById("manualLink").href = `yourapp://room?roomId=${roomId}`;
        }
    </script>
</body>
</html>
