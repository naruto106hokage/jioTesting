<!DOCTYPE html>
<html>
<head>
    <title>Auto Open Link</title>
    <script type="text/javascript">
        function getRoomID() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('roomId');
        }

        window.onload = function() {
            const roomId = getRoomID();
            if (roomId) {
                // Attempt to open the app with the deep link
                setTimeout(function() {
                    window.location.href = `yourapp://room?roomId=${roomId}`;
                }, 100); // 100ms delay

                // Fallback to manual link in case of failure
                setTimeout(function() {
                    document.getElementById("manualLink").style.display = "block";
                }, 1000); // Show manual link after 1 second
            }
        }
    </script>
</head>
<body>
    <p>If the link doesn't open automatically, <a id="manualLink" href="#" style="display:none;">click here</a>.</p>

    <script type="text/javascript">
        const roomId = getRoomID();
        if (roomId) {
            document.getElementById("manualLink").href = `yourapp://room?roomId=${roomId}`;
        }
    </script>
</body>
</html>
